CREATE TABLE IF NOT EXISTS NOSQL_EXTRACT_METADATA_CONFIG (
  EXTRACT_ID UUID NOT NULL,
  SEQUENCE_NUMBER INTEGER,
  PIPELINE_ID UUID NOT NULL,
  URI VARCHAR(4000),
  COLLECTION VARCHAR(4000),
  READPREFERENCE TEXT,
  PARTITIONER VARCHAR(255),
  ACTIVE_FLAG VARCHAR(1) DEFAULT 'Y',
CONSTRAINT PK_NOSQL_EXTRACT_METADATA_CONFIG UNIQUE (PIPELINE_ID, SEQUENCE_NUMBER),
  CONSTRAINT FK_EXTRACT FOREIGN KEY (SEQUENCE_NUMBER, PIPELINE_ID) REFERENCES EXTRACT_METADATA_CONFIG (SEQUENCE_NUMBER, PIPELINE_ID) ON DELETE CASCADE ON UPDATE CASCADE
) INHERITS (EXTRACT_METADATA_CONFIG);